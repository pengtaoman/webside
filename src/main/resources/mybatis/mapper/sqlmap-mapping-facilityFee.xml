<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.webside.business.mapper.FacilityFeeMapper">
  <resultMap id="BaseResultMap" type="com.webside.business.model.FacilityFeeEntity">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Dec 13 19:32:22 CST 2017.
    -->
    <id column="id" jdbcType="INTEGER" property="id" />
    <result column="code" jdbcType="VARCHAR" property="code" />
    <result column="id_sub" jdbcType="VARCHAR" property="idSub" />
    <result column="id_province" jdbcType="VARCHAR" property="idProvince" />
    <result column="id_country" jdbcType="VARCHAR" property="idCountry" />
    <result column="name" jdbcType="VARCHAR" property="name" />
    <result column="field" jdbcType="VARCHAR" property="field" />
    <result column="model" jdbcType="VARCHAR" property="model" />
    <result column="accuracy" jdbcType="VARCHAR" property="accuracy" />
    <result column="test_range" jdbcType="VARCHAR" property="testRange" />
    <result column="fee_unit" jdbcType="VARCHAR" property="feeUnit" />
    <result column="fee_price" jdbcType="DECIMAL" property="feePrice" />
    <result column="alias" jdbcType="VARCHAR" property="alias" />
    <result column="status" jdbcType="VARCHAR" property="status" />
    <result column="status_valid" jdbcType="VARCHAR" property="statusValid" />
    <result column="note" jdbcType="VARCHAR" property="note" />
    <result column="operater" jdbcType="VARCHAR" property="operater" />
    <result column="operate_time" jdbcType="TIMESTAMP" property="operateTime" />
    <result column="update_time" jdbcType="TIMESTAMP" property="updateTime" />
  </resultMap>
  
  	<resultMap id="pairNameMap" type="com.webside.base.basemodel.PairName">
		<id property="id" column="p_id"/>
		<result property="text" column="p_name" />
	</resultMap>
  	<resultMap id="pairMultiMap" type="com.webside.base.basemodel.PairMulti">
		<id property="id" column="p_id"/>
		<result property="val1" column="p_val1" />
		<result property="val2" column="p_val2" />
	</resultMap>
	
  <sql id="Example_Where_Clause">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Dec 13 19:32:22 CST 2017.
    -->
    <where>
      <foreach collection="oredCriteria" item="criteria" separator="or">
        <if test="criteria.valid">
          <trim prefix="(" prefixOverrides="and" suffix=")">
            <foreach collection="criteria.criteria" item="criterion">
              <choose>
                <when test="criterion.noValue">
                  and ${criterion.condition}
                </when>
                <when test="criterion.singleValue">
                  and ${criterion.condition} #{criterion.value}
                </when>
                <when test="criterion.betweenValue">
                  and ${criterion.condition} #{criterion.value} and #{criterion.secondValue}
                </when>
                <when test="criterion.listValue">
                  and ${criterion.condition}
                  <foreach close=")" collection="criterion.value" item="listItem" open="(" separator=",">
                    #{listItem}
                  </foreach>
                </when>
              </choose>
            </foreach>
          </trim>
        </if>
      </foreach>
    </where>
  </sql>
  <sql id="Update_By_Example_Where_Clause">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Dec 13 19:32:22 CST 2017.
    -->
    <where>
      <foreach collection="example.oredCriteria" item="criteria" separator="or">
        <if test="criteria.valid">
          <trim prefix="(" prefixOverrides="and" suffix=")">
            <foreach collection="criteria.criteria" item="criterion">
              <choose>
                <when test="criterion.noValue">
                  and ${criterion.condition}
                </when>
                <when test="criterion.singleValue">
                  and ${criterion.condition} #{criterion.value}
                </when>
                <when test="criterion.betweenValue">
                  and ${criterion.condition} #{criterion.value} and #{criterion.secondValue}
                </when>
                <when test="criterion.listValue">
                  and ${criterion.condition}
                  <foreach close=")" collection="criterion.value" item="listItem" open="(" separator=",">
                    #{listItem}
                  </foreach>
                </when>
              </choose>
            </foreach>
          </trim>
        </if>
      </foreach>
    </where>
  </sql>
  <sql id="Base_Column_List">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Dec 13 19:32:22 CST 2017.
    -->
    id, code, id_sub, id_province, id_country, name, field, model, accuracy, test_range, 
    fee_unit, fee_price, alias, status, status_valid, note, operater, operate_time, update_time
  </sql>
  
  <select id="selectByExample" parameterType="com.webside.business.model.FacilityFeeEntityExample" resultMap="BaseResultMap">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Dec 13 19:32:22 CST 2017.
    -->
    select
    <if test="distinct">
      distinct
    </if>
    <include refid="Base_Column_List" />
    from tb_facility_fee
    <if test="_parameter != null">
      <include refid="Example_Where_Clause" />
    </if>
    <if test="orderByClause != null">
      order by ${orderByClause}
    </if>
  </select>
  <select id="selectByPrimaryKey" parameterType="java.lang.Long" resultMap="BaseResultMap">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Dec 13 19:32:22 CST 2017.
    -->
    select 
    <include refid="Base_Column_List" />
    from tb_facility_fee
    where id = #{id,jdbcType=INTEGER}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.Long">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Dec 13 19:32:22 CST 2017.
    -->
    delete from tb_facility_fee
    where id = #{id,jdbcType=INTEGER}
  </delete>
  <delete id="deleteByExample" parameterType="com.webside.business.model.FacilityFeeEntityExample">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Dec 13 19:32:22 CST 2017.
    -->
    delete from tb_facility_fee
    <if test="_parameter != null">
      <include refid="Example_Where_Clause" />
    </if>
  </delete>
  <insert id="insert" parameterType="com.webside.business.model.FacilityFeeEntity">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Dec 13 19:32:22 CST 2017.
    -->
    insert into tb_facility_fee (code, id_sub, 
      id_province, id_country, name, 
      field, model, accuracy, 
      test_range, fee_unit, fee_price, 
      alias, status, status_valid, 
      note, operater, operate_time, 
      update_time)
    values (#{code,jdbcType=VARCHAR}, #{idSub,jdbcType=VARCHAR}, 
      #{idProvince,jdbcType=VARCHAR}, #{idCountry,jdbcType=VARCHAR}, #{name,jdbcType=VARCHAR}, 
      #{field,jdbcType=VARCHAR}, #{model,jdbcType=VARCHAR}, #{accuracy,jdbcType=VARCHAR}, 
      #{testRange,jdbcType=VARCHAR}, #{feeUnit,jdbcType=VARCHAR}, #{feePrice,jdbcType=DECIMAL}, 
      #{alias,jdbcType=VARCHAR}, #{status,jdbcType=VARCHAR}, #{statusValid,jdbcType=VARCHAR}, 
      #{note,jdbcType=VARCHAR}, #{operater,jdbcType=VARCHAR}, 
      now(), now())
  </insert>
  <insert id="insertSelective" parameterType="com.webside.business.model.FacilityFeeEntity">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Dec 13 19:32:22 CST 2017.
    -->
    insert into tb_facility_fee
    <trim prefix="(" suffix=")" suffixOverrides=",">
      <if test="id != null">
        id,
      </if>
      <if test="code != null">
        code,
      </if>
      <if test="idSub != null">
        id_sub,
      </if>
      <if test="idProvince != null">
        id_province,
      </if>
      <if test="idCountry != null">
        id_country,
      </if>
      <if test="name != null">
        name,
      </if>
      <if test="field != null">
        field,
      </if>
      <if test="model != null">
        model,
      </if>
      <if test="accuracy != null">
        accuracy,
      </if>
      <if test="testRange != null">
        test_range,
      </if>
      <if test="feeUnit != null">
        fee_unit,
      </if>
      <if test="feePrice != null">
        fee_price,
      </if>
      <if test="alias != null">
        alias,
      </if>
      <if test="status != null">
        status,
      </if>
      <if test="statusValid != null">
        status_valid,
      </if>
      <if test="note != null">
        note,
      </if>
      <if test="operater != null">
        operater,
      </if>
      <if test="operateTime != null">
        operate_time,
      </if>
      <if test="updateTime != null">
        update_time,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides=",">
      <if test="id != null">
        #{id,jdbcType=INTEGER},
      </if>
      <if test="code != null">
        #{code,jdbcType=VARCHAR},
      </if>
      <if test="idSub != null">
        #{idSub,jdbcType=VARCHAR},
      </if>
      <if test="idProvince != null">
        #{idProvince,jdbcType=VARCHAR},
      </if>
      <if test="idCountry != null">
        #{idCountry,jdbcType=VARCHAR},
      </if>
      <if test="name != null">
        #{name,jdbcType=VARCHAR},
      </if>
      <if test="field != null">
        #{field,jdbcType=VARCHAR},
      </if>
      <if test="model != null">
        #{model,jdbcType=VARCHAR},
      </if>
      <if test="accuracy != null">
        #{accuracy,jdbcType=VARCHAR},
      </if>
      <if test="testRange != null">
        #{testRange,jdbcType=VARCHAR},
      </if>
      <if test="feeUnit != null">
        #{feeUnit,jdbcType=VARCHAR},
      </if>
      <if test="feePrice != null">
        #{feePrice,jdbcType=DECIMAL},
      </if>
      <if test="alias != null">
        #{alias,jdbcType=VARCHAR},
      </if>
      <if test="status != null">
        #{status,jdbcType=VARCHAR},
      </if>
      <if test="statusValid != null">
        #{statusValid,jdbcType=VARCHAR},
      </if>
      <if test="note != null">
        #{note,jdbcType=VARCHAR},
      </if>
      <if test="operater != null">
        #{operater,jdbcType=VARCHAR},
      </if>
      <if test="operateTime != null">
        #{operateTime,jdbcType=TIMESTAMP},
      </if>
      <if test="updateTime != null">
        #{updateTime,jdbcType=TIMESTAMP},
      </if>
    </trim>
  </insert>
  <select id="countByExample" parameterType="com.webside.business.model.FacilityFeeEntityExample" resultType="java.lang.Long">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Dec 13 19:32:22 CST 2017.
    -->
    select count(*) from tb_facility_fee
    <if test="_parameter != null">
      <include refid="Example_Where_Clause" />
    </if>
  </select>
  <update id="updateByExampleSelective" parameterType="map">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Dec 13 19:32:22 CST 2017.
    -->
    update tb_facility_fee
    <set>
      <if test="record.id != null">
        id = #{record.id,jdbcType=INTEGER},
      </if>
      <if test="record.code != null">
        code = #{record.code,jdbcType=VARCHAR},
      </if>
      <if test="record.idSub != null">
        id_sub = #{record.idSub,jdbcType=VARCHAR},
      </if>
      <if test="record.idProvince != null">
        id_province = #{record.idProvince,jdbcType=VARCHAR},
      </if>
      <if test="record.idCountry != null">
        id_country = #{record.idCountry,jdbcType=VARCHAR},
      </if>
      <if test="record.name != null">
        name = #{record.name,jdbcType=VARCHAR},
      </if>
      <if test="record.field != null">
        field = #{record.field,jdbcType=VARCHAR},
      </if>
      <if test="record.model != null">
        model = #{record.model,jdbcType=VARCHAR},
      </if>
      <if test="record.accuracy != null">
        accuracy = #{record.accuracy,jdbcType=VARCHAR},
      </if>
      <if test="record.testRange != null">
        test_range = #{record.testRange,jdbcType=VARCHAR},
      </if>
      <if test="record.feeUnit != null">
        fee_unit = #{record.feeUnit,jdbcType=VARCHAR},
      </if>
      <if test="record.feePrice != null">
        fee_price = #{record.feePrice,jdbcType=DECIMAL},
      </if>
      <if test="record.alias != null">
        alias = #{record.alias,jdbcType=VARCHAR},
      </if>
      <if test="record.status != null">
        status = #{record.status,jdbcType=VARCHAR},
      </if>
      <if test="record.statusValid != null">
        status_valid = #{record.statusValid,jdbcType=VARCHAR},
      </if>
      <if test="record.note != null">
        note = #{record.note,jdbcType=VARCHAR},
      </if>
      <if test="record.operater != null">
        operater = #{record.operater,jdbcType=VARCHAR},
      </if>
      <if test="record.operateTime != null">
        operate_time = #{record.operateTime,jdbcType=TIMESTAMP},
      </if>
      <if test="record.updateTime != null">
        update_time = #{record.updateTime,jdbcType=TIMESTAMP},
      </if>
    </set>
    <if test="_parameter != null">
      <include refid="Update_By_Example_Where_Clause" />
    </if>
  </update>
  <update id="updateByExample" parameterType="map">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Dec 13 19:32:22 CST 2017.
    -->
    update tb_facility_fee
    set id = #{record.id,jdbcType=INTEGER},
      code = #{record.code,jdbcType=VARCHAR},
      id_sub = #{record.idSub,jdbcType=VARCHAR},
      id_province = #{record.idProvince,jdbcType=VARCHAR},
      id_country = #{record.idCountry,jdbcType=VARCHAR},
      name = #{record.name,jdbcType=VARCHAR},
      field = #{record.field,jdbcType=VARCHAR},
      model = #{record.model,jdbcType=VARCHAR},
      accuracy = #{record.accuracy,jdbcType=VARCHAR},
      test_range = #{record.testRange,jdbcType=VARCHAR},
      fee_unit = #{record.feeUnit,jdbcType=VARCHAR},
      fee_price = #{record.feePrice,jdbcType=DECIMAL},
      alias = #{record.alias,jdbcType=VARCHAR},
      status = #{record.status,jdbcType=VARCHAR},
      status_valid = #{record.statusValid,jdbcType=VARCHAR},
      note = #{record.note,jdbcType=VARCHAR},
      operater = #{record.operater,jdbcType=VARCHAR},
      operate_time = #{record.operateTime,jdbcType=TIMESTAMP},
      update_time = #{record.updateTime,jdbcType=TIMESTAMP}
    <if test="_parameter != null">
      <include refid="Update_By_Example_Where_Clause" />
    </if>
  </update>
  <update id="updateByPrimaryKeySelective" parameterType="com.webside.business.model.FacilityFeeEntity">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Dec 13 19:32:22 CST 2017.
    -->
    update tb_facility_fee
    <set>
      <if test="code != null">
        code = #{code,jdbcType=VARCHAR},
      </if>
      <if test="idSub != null">
        id_sub = #{idSub,jdbcType=VARCHAR},
      </if>
      <if test="idProvince != null">
        id_province = #{idProvince,jdbcType=VARCHAR},
      </if>
      <if test="idCountry != null">
        id_country = #{idCountry,jdbcType=VARCHAR},
      </if>
      <if test="name != null">
        name = #{name,jdbcType=VARCHAR},
      </if>
      <if test="field != null">
        field = #{field,jdbcType=VARCHAR},
      </if>
      <if test="model != null">
        model = #{model,jdbcType=VARCHAR},
      </if>
      <if test="accuracy != null">
        accuracy = #{accuracy,jdbcType=VARCHAR},
      </if>
      <if test="testRange != null">
        test_range = #{testRange,jdbcType=VARCHAR},
      </if>
      <if test="feeUnit != null">
        fee_unit = #{feeUnit,jdbcType=VARCHAR},
      </if>
      <if test="feePrice != null">
        fee_price = #{feePrice,jdbcType=DECIMAL},
      </if>
      <if test="alias != null">
        alias = #{alias,jdbcType=VARCHAR},
      </if>
      <if test="status != null">
        status = #{status,jdbcType=VARCHAR},
      </if>
      <if test="statusValid != null">
        status_valid = #{statusValid,jdbcType=VARCHAR},
      </if>
      <if test="note != null">
        note = #{note,jdbcType=VARCHAR},
      </if>
      <if test="operater != null">
        operater = #{operater,jdbcType=VARCHAR},
      </if>
      <if test="operateTime != null">
        operate_time = #{operateTime,jdbcType=TIMESTAMP},
      </if>
      <if test="updateTime != null">
        update_time = #{updateTime,jdbcType=TIMESTAMP},
      </if>
    </set>
    where id = #{id,jdbcType=INTEGER}
  </update>
  <update id="updateByPrimaryKey" parameterType="com.webside.business.model.FacilityFeeEntity">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Dec 13 19:32:22 CST 2017.
    -->
    update tb_facility_fee
    set code = #{code,jdbcType=VARCHAR},
      id_sub = #{idSub,jdbcType=VARCHAR},
      id_province = #{idProvince,jdbcType=VARCHAR},
      id_country = #{idCountry,jdbcType=VARCHAR},
      name = #{name,jdbcType=VARCHAR},
      field = #{field,jdbcType=VARCHAR},
      model = #{model,jdbcType=VARCHAR},
      accuracy = #{accuracy,jdbcType=VARCHAR},
      test_range = #{testRange,jdbcType=VARCHAR},
      fee_unit = #{feeUnit,jdbcType=VARCHAR},
      fee_price = #{feePrice,jdbcType=DECIMAL},
      alias = #{alias,jdbcType=VARCHAR},
      status = #{status,jdbcType=VARCHAR},
      status_valid = #{statusValid,jdbcType=VARCHAR},
      note = #{note,jdbcType=VARCHAR},
      operater = #{operater,jdbcType=VARCHAR},
      operate_time = #{operateTime,jdbcType=TIMESTAMP},
      update_time = #{updateTime,jdbcType=TIMESTAMP}
    where id = #{id,jdbcType=INTEGER}
  </update>
  
    <select id="queryListByPage" parameterType="map" resultMap="BaseResultMap" useCache="true">
		SELECT <include refid="Base_Column_List" /> 
		FROM tb_facility_fee t1 
		<where>
		 	<choose>
		 		<when test="query_expr != null and (query_expr == 'like' or query_expr == 'not like')">
		 			<if test="code != null and code != ''">
						and code ${query_expr} '%${code}%'
					</if>
					<if test="idSub != null and idSub!= ''">
						and id_sub ${query_expr} '%${idSub}%'
					</if>					
					<if test="idProvince != null and idProvince!= ''">
						and id_province ${query_expr} '%${idProvince}%'
					</if>
					<if test="idCountry != null and idCountry!= ''">
						and id_country ${query_expr} '%${idCountry}%'
					</if>
					<if test="name != null and name!= ''">
						and name ${query_expr} '%${name}%'
					</if>
					<if test="field != null and field!= ''">
						and field ${query_expr} '%${field}%'
					</if>
					<if test="model != null and model!= ''">
						and model ${query_expr} '%${model}%'
					</if>
					<if test="accuracy != null and accuracy!= ''">
						and accuracy ${query_expr} '%${accuracy}%'
					</if>
					<if test="testRange != null and testRange!= ''">
						and test_range ${query_expr} '%${testRange}%'
					</if>
					<if test="feeUnit != null and feeUnit!= ''">
						and fee_unit ${query_expr} '%${feeUnit}%'
					</if>
					
					<if test="alias != null and alias!= ''">
						and alias ${query_expr} '%${alias}%'
					</if>
					<if test="status != null and status!= ''">
						and status ${query_expr} '%${status}%'
					</if>
					<if test="statusValid != null and statusValid!= ''">
						and status_valid ${query_expr} '%${statusValid}%'
					</if>
					<if test="note != null and note!= ''">
						and note ${query_expr} '%${note}%'
					</if>
					<if test="operater != null and operater!= ''">
						and operater ${query_expr} '%${operater}%'
					</if>
				</when>
				<when test="query_expr != null and query_expr != 'like' and query_expr != 'not like'">
		 			<if test="code != null and code != ''">
						and code ${query_expr} #{code}
					</if>
            		<if test="idSub != null and idSub!= ''">
						and id_sub ${query_expr} #{idSub}
					</if>
					<if test="idProvince != null and idProvince!= ''">
						and id_province ${query_expr} #{idProvince}
					</if>
					<if test="idCountry != null and idCountry!= ''">
						and id_country ${query_expr} #{idCountry}
					</if>
					<if test="name != null and name!= ''">
						and name ${query_expr} #{name}
					</if>
					<if test="field != null and field!= ''">
						and field ${query_expr} #{field}
					</if>
					<if test="model != null and model!= ''">
						and model ${query_expr} #{model}
					</if>
					<if test="accuracy != null and accuracy!= ''">
						and accuracy ${query_expr} #{accuracy}
					</if>
					<if test="testRange != null and testRange!= ''">
						and test_range ${query_expr} #{testRange}
					</if>
					<if test="feeUnit != null and feeUnit!= ''">
						and fee_unit ${query_expr} #{feeUnit}
					</if>
					<if test="feePrice != null and feePrice!= ''">
						and fee_price ${query_expr} #{feePrice}
					</if>
					<if test="alias != null and alias!= ''">
						and alias ${query_expr} #{alias}
					</if>
					<if test="status != null and status!= ''">
						and status = #{status}
					</if>
					<if test="statusValid != null and statusValid!= ''">
						and status_valid = #{statusValid}
					</if>
					<if test="note != null and note!= ''">
						and note = #{note}
					</if>
					<if test="operater != null and operater!= ''">
						and operater = #{operater}
					</if>
				</when>
				<otherwise>
					<if test="operateTime != null and startDate != null">
						and operate_time &gt;= #{startDate}
					</if>
					<if test="operateTime != null and endDate != null">
						and operate_time &lt;= #{endDate}
					</if>
					<if test="updateTime != null and startDate != null">
						and update_time &gt;= #{startDate}
					</if>
					<if test="updateTime != null and endDate != null">
						and update_time &lt;= #{endDate}
					</if>
       		 	</otherwise>
			</choose>
		</where>
		<if test="pageSize != null and pageSize !=''">
			limit #{pageSize}
		</if>
		order by id DESC
	</select>
	
	<select id="findById" parameterType="long" resultMap="BaseResultMap" useCache="false">
		SELECT <include refid="Base_Column_List" /> 
		FROM tb_facility_fee 
		where id = ${id}
	</select>
	
	<delete id="deleteById" parameterType="long">		
       delete from tb_facility_fee where id = #{id} 	    
	</delete>
	
	<delete id="deleteBatchById" parameterType="list">
       delete from tb_facility_fee where id in  
	    <foreach collection="list" item = "id" open="(" separator="," close=")">
	    #{id}  
	    </foreach>  
	</delete>

	<select id="queryFields" parameterType="map" resultMap="pairNameMap" useCache="true">
		SELECT field as p_id, field as p_name	FROM tb_facility_fee 
		group by field 
		order by field		
	</select>
	
	<select id="queryFacilityNames" parameterType="map" resultMap="pairNameMap" useCache="true">
		SELECT name as p_id, name as p_name FROM tb_facility_fee 
		<where>
			<if test="field != null">
				field = #{field}
			</if>
		</where>
		group by name 
		order by name 
	</select>
	<select id="queryModels" parameterType="map" resultMap="pairNameMap" useCache="true">
		SELECT model as p_id, model as p_name FROM tb_facility_fee 
		<where>
			<if test="field != null">
				field = #{field}
			</if>
			<if test="name != null">
				and name = #{name}
			</if>
		</where>
		group by model 
		order by model 
	</select>
	
	<select id="queryAccuracys" parameterType="map" resultMap="pairNameMap" useCache="true">
		SELECT accuracy as p_id, accuracy as p_name  FROM tb_facility_fee 
		<where>
			<if test="field != null">
				and field = #{field}
			</if>
			<if test="name != null">
				and name = #{name}
			</if>
			<if test="model != null">
				and model = #{model}
			</if>
		</where>
		group by accuracy 
		order by accuracy 
	</select>
	
	<select id="queryTestRanges" parameterType="map" resultMap="pairNameMap" useCache="true">
		SELECT test_range as p_id, test_range as p_name FROM tb_facility_fee 
		<where>
			<if test="field != null">
				and field = #{field}
			</if>
			<if test="name != null">
				and name = #{name}
			</if>
			<if test="model != null">
				and model = #{model}
			</if>
			<if test="accuracy != null">
				and accuracy = #{accuracy}
			</if>
		</where>
		group by test_range 
		order by test_range 
	</select>
	
	<select id="queryFeeUnits" parameterType="map" resultMap="pairNameMap" useCache="true">
		SELECT fee_unit as p_id, fee_unit as p_name FROM tb_facility_fee 
		<where>
			<if test="field != null">
				and field = #{field}
			</if>
			<if test="name != null">
				and name = #{name}
			</if>
			<if test="model != null">
				and model = #{model}
			</if>
			<if test="accuracy != null">
				and accuracy = #{accuracy}
			</if>
			<if test="testRange != null">
				and test_range = #{testRange}
			</if>
		</where>
		group by fee_unit 
		order by fee_unit 
	</select>
	
	<select id="count" parameterType="map" resultType="int" useCache="false">
		SELECT count(*) FROM tb_facility_fee
	</select>
	
	<select id="queryFeePriceAndUnit" parameterType="list" resultMap="pairMultiMap" useCache="true">
		select s.id as p_id,t1.fee_price as p_val1, t1.fee_unit as p_val2 from  
		(select id,facility_type,facility_name,model from tb_facility 
		where id in  
	    <foreach collection="list" item = "id" open="(" separator="," close=")">
	    	#{id}  
	    </foreach>  
		) s 
		inner join tb_facility_fee t1
		on t1.field = s.facility_type and t1.name = s.facility_name  and t1.model = s.model
	</select>
	
	<update id="update" parameterType="com.webside.business.model.FacilityFeeEntity">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Dec 13 19:32:22 CST 2017.
    -->
    update tb_facility_fee
    <set>
      <if test="code != null">
        code = #{code,jdbcType=VARCHAR},
      </if>
      <if test="idSub != null">
        id_sub = #{idSub,jdbcType=VARCHAR},
      </if>
      <if test="idProvince != null">
        id_province = #{idProvince,jdbcType=VARCHAR},
      </if>
      <if test="idCountry != null">
        id_country = #{idCountry,jdbcType=VARCHAR},
      </if>
      <if test="name != null">
        name = #{name,jdbcType=VARCHAR},
      </if>
      <if test="field != null">
        field = #{field,jdbcType=VARCHAR},
      </if>
      <if test="model != null">
        model = #{model,jdbcType=VARCHAR},
      </if>
      <if test="accuracy != null">
        accuracy = #{accuracy,jdbcType=VARCHAR},
      </if>
      <if test="testRange != null">
        test_range = #{testRange,jdbcType=VARCHAR},
      </if>
      <if test="feeUnit != null">
        fee_unit = #{feeUnit,jdbcType=VARCHAR},
      </if>
      <if test="feePrice != null">
        fee_price = #{feePrice,jdbcType=DECIMAL},
      </if>
      <if test="alias != null">
        alias = #{alias,jdbcType=VARCHAR},
      </if>
      <if test="status != null">
        status = #{status,jdbcType=VARCHAR},
      </if>
      <if test="statusValid != null">
        status_valid = #{statusValid,jdbcType=VARCHAR},
      </if>
      <if test="note != null">
        note = #{note,jdbcType=VARCHAR},
      </if>
      <if test="operater != null">
        operater = #{operater,jdbcType=VARCHAR},
      </if>
      update_time = now()
    </set>
    where id = #{id,jdbcType=INTEGER}
  </update>
</mapper>